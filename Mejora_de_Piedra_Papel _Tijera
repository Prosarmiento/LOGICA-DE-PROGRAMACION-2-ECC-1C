import random  # ğŸ² LibrerÃ­a para generar elecciones aleatorias

# ğŸ”¢ Constantes
PIEDRA = 1
PAPEL = 2
TIJERA = 3
SALIR = 0

# ğŸ® Tupla de opciones del juego
OPCIONES_JUEGO = ("", "piedra", "papel", "tijera")

# ğŸ† Tuplas que representan combinaciones ganadoras
REGLAS_VICTORIA = (
    (PIEDRA, TIJERA),  # Piedra rompe tijera
    (TIJERA, PAPEL),   # Tijera corta papel
    (PAPEL, PIEDRA),   # Papel envuelve piedra
)

# ğŸ“‹ Mostrar menÃº de opciones
def mostrar_menu():
    print("\n#############################################")
    print("             Piedra, papel o tijera")
    print(f"              [{PIEDRA}] piedra")
    print(f"              [{PAPEL}] papel")
    print(f"              [{TIJERA}] tijera")
    print(f"              [{SALIR}] salir")
    print("#############################################")

# ğŸ¯ Obtener opciÃ³n del usuario
def obtener_opcion_usuario():
    while True:
        try:
            opcion = int(input("Ingrese el nÃºmero correspondiente para jugar: "))
            if opcion in [PIEDRA, PAPEL, TIJERA, SALIR]:
                return opcion
            else:
                print("NÃºmero invÃ¡lido. Por favor, intente de nuevo.")
        except ValueError:
            print("Entrada invÃ¡lida. Por favor, ingrese un nÃºmero.")

# ğŸ¤– OpciÃ³n aleatoria del computador
def obtener_opcion_computador():
    return random.choice([PIEDRA, PAPEL, TIJERA])

# âš–ï¸ Determinar el ganador
def determinar_ganador(usuario, computador):
    if usuario == computador:
        return "empate"
    elif (usuario, computador) in REGLAS_VICTORIA:
        return "victoria"
    else:
        return "derrota"

# ğŸ“£ Mostrar resultado de la ronda
def mostrar_resultado(usuario, computador, resultado):
    print(f"\nHas elegido: {OPCIONES_JUEGO[usuario]}")
    print(f"Computador eligiÃ³: {OPCIONES_JUEGO[computador]}")
    if resultado == "victoria":
        print("Â¡Ganaste! ğŸ˜ŠğŸ™Œ")
    elif resultado == "derrota":
        print("Perdiste ğŸ˜¢ Â¡IntÃ©ntalo de nuevo!")
    else:
        print("Es un empate! ğŸ˜")

# ğŸ•¹ï¸ LÃ³gica principal del juego
def jugar():
    mostrar_menu()

    # ğŸ“Š Contadores de resultados
    victorias = 0
    derrotas = 0
    empates = 0

    while True:
        opcion_usuario = obtener_opcion_usuario()
        if opcion_usuario == SALIR:
            print("\nGracias por jugar. Â¡Hasta la prÃ³xima! ğŸ‘‹")
            break

        opcion_computador = obtener_opcion_computador()
        resultado = determinar_ganador(opcion_usuario, opcion_computador)
        mostrar_resultado(opcion_usuario, opcion_computador, resultado)

        # ğŸ”„ Actualizar contadores
        if resultado == "victoria":
            victorias += 1
        elif resultado == "derrota":
            derrotas += 1
        else:
            empates += 1

        continuar = input("\nÂ¿Quieres seguir jugando? (s/n): ")
        if continuar.lower() != 's':
            break

    # ğŸ“ˆ Mostrar resumen final
    print("\nğŸ“Š Resumen de la partida:")
    print(f"Victorias: {victorias}")
    print(f"Derrotas: {derrotas}")
    print(f"Empates: {empates}")
    print("\nÂ¡Gracias por jugar! ğŸ®")

# â–¶ï¸ Ejecutar el juego
jugar()
